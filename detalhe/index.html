<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="robots" content="noindex, nofollow">
    <link rel="icon" type="image/png" href="icone.png">
    <title>Visualizador Dark Mode</title>
    <style>
        /* --- CSS - ESTILO MODO NOTURNO (DARK) --- */
        
        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 20px;
            /* Fundo principal escuro */
            background-color: #121212; 
            /* Cor de texto padrão clara */
            color: #e0e0e0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h2 {
            margin-bottom: 20px;
            color: #ffffff; /* Título branco */
        }

        /* Container Principal */
        .container {
            display: flex;
            gap: 20px;
            /* Fundo do container cinza escuro */
            background: #1e1e1e;
            padding: 20px;
            border-radius: 8px;
            /* Sombra ligeiramente mais forte para contraste no escuro */
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
            max-width: 95%;
            height: 500px; 
            border: 1px solid #333; /* Borda sutil */
        }

        /* Área da Imagem (Esquerda) */
        .img-container {
            width: 400px;
            height: 100%;
            /* Borda tracejada mais escura */
            border: 2px dashed #555;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            /* Fundo da área de drop mais escuro */
            background-color: #2a2a2a;
            overflow: hidden;
            cursor: crosshair;
            border-radius: 4px;
        }

        /* Quando arrastar um arquivo por cima */
        .img-container.drag-active {
            border-color: #4dabff; /* Azul mais claro para destaque */
            background-color: rgba(77, 171, 255, 0.15); /* Fundo azulado transparente */
        }

        /* A imagem em si */
        #main-image {
            max-width: 100%;
            max-height: 100%;
            display: none; 
            pointer-events: none; 
        }

        .placeholder-text {
            /* Texto de instrução cinza claro */
            color: #aaa;
            pointer-events: none;
        }

        /* Área de Zoom (Direita) */
        .zoom-result {
            width: 400px; 
            height: 100%;
            /* Borda escura */
            border: 1px solid #444;
            background-color: #2a2a2a;
            background-repeat: no-repeat;
            display: none; 
            border-radius: 4px;
        }

        /* Botão Ver Original (Discreto Dark) */
        #btn-original {
            margin-top: 15px;
            padding: 8px 18px;
            font-size: 14px;
            /* Cores do botão dark */
            color: #ccc;
            background-color: #333;
            border: 1px solid #555;
            cursor: pointer;
            display: none; 
            border-radius: 4px;
            transition: background-color 0.2s;
        }

        #btn-original:hover {
            /* Efeito hover ligeiramente mais claro */
            background-color: #444;
            color: white;
            border-color: #666;
        }

        /* Modal (Pop-up) - Já estava bom para dark mode */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            /* Fundo preto semi-transparente */
            background-color: rgba(0,0,0,0.85);
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(2px); /* Efeito de desfoque suave no fundo */
        }

        .modal-content {
            max-width: 90%;
            max-height: 90%;
            box-shadow: 0 0 30px rgba(0,0,0,0.8);
            /* Borda branca fina para destacar a imagem do fundo escuro */
            border: 1px solid rgba(255,255,255,0.2); 
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 30px;
            color: #ddd;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.2s;
        }
        .close-modal:hover {
            color: white;
        }
    </style>
</head>
<body>

    <h2>Visualizador de Detalhes</h2>

    <div class="container">
        <div class="img-container" id="img-container">
            <span class="placeholder-text">Arraste a imagem aqui</span>
            <img id="main-image" src="" alt="Imagem Carregada">
        </div>

        <div id="zoom-result" class="zoom-result"></div>
    </div>

    <button id="btn-original">Ver Original</button>

    <div id="modal" class="modal">
        <span class="close-modal" id="close-modal">&times;</span>
        <img class="modal-content" id="modal-image">
    </div>

    <script>
        // JAVASCRIPT - LÓGICA (SEM ALTERAÇÕES)

        // Seleção de elementos
        const container = document.getElementById('img-container');
        const imgElement = document.getElementById('main-image');
        const result = document.getElementById('zoom-result');
        const placeholder = document.querySelector('.placeholder-text');
        const btnOriginal = document.getElementById('btn-original');
        const modal = document.getElementById('modal');
        const modalImg = document.getElementById('modal-image');
        const closeModal = document.getElementById('close-modal');

        // Variável de controle do Zoom
        let zoomLevel = 2; // Padrão inicial: 2x

        // 1. Lógica de Arrastar e Soltar
        container.addEventListener('dragover', (e) => {
            e.preventDefault();
            container.classList.add('drag-active');
        });

        container.addEventListener('dragleave', () => {
            container.classList.remove('drag-active');
        });

        container.addEventListener('drop', (e) => {
            e.preventDefault();
            container.classList.remove('drag-active');
            
            const file = e.dataTransfer.files[0];
            if (file && file.type.startsWith('image/')) {
                const reader = new FileReader();
                reader.onload = (event) => {
                    const imgUrl = event.target.result;
                    
                    // Atualiza imagem principal
                    imgElement.src = imgUrl;
                    imgElement.style.display = 'block';
                    placeholder.style.display = 'none';

                    // Atualiza imagem do zoom
                    result.style.backgroundImage = `url('${imgUrl}')`;
                    result.style.display = 'block';

                    // Atualiza imagem do modal
                    modalImg.src = imgUrl;

                    // Mostra o botão discreto
                    btnOriginal.style.display = 'block';
                };
                reader.readAsDataURL(file);
            }
        });

        // 2. Lógica da Lupa (Movimento do Mouse)
        container.addEventListener('mousemove', (e) => {
            if (imgElement.style.display === 'none') return;

            // Pega as dimensões e posição da imagem visível
            const { left, top, width, height } = imgElement.getBoundingClientRect();
            
            // Posição do mouse relativa à imagem
            let x = e.clientX - left;
            let y = e.clientY - top;

            // Impede que o cálculo saia das bordas da imagem
            if (x < 0) x = 0;
            if (y < 0) y = 0;
            if (x > width) x = width;
            if (y > height) y = height;

            // Calcula a posição em porcentagem
            const xPercent = (x / width) * 100;
            const yPercent = (y / height) * 100;

            // Aplica o zoom e a posição no quadro ao lado
            result.style.backgroundSize = `${width * zoomLevel}px ${height * zoomLevel}px`;
            result.style.backgroundPosition = `${xPercent}% ${yPercent}%`;
        });

        // 3. Lógica da Rodinha do Mouse (Ajuste de Zoom)
        container.addEventListener('wheel', (e) => {
            if (imgElement.style.display === 'none') return;
            
            e.preventDefault(); // Impede a página de rolar

            // Se rodar para cima, aumenta. Para baixo, diminui.
            if (e.deltaY < 0) {
                zoomLevel += 0.2; // Aumenta zoom
            } else {
                zoomLevel -= 0.2; // Diminui zoom
            }

            // Limites de segurança (mínimo 1x, máximo 10x)
            if (zoomLevel < 1) zoomLevel = 1;
            if (zoomLevel > 10) zoomLevel = 10;

            // Atualiza o zoom instantaneamente
            const event = new MouseEvent('mousemove', {
                clientX: e.clientX,
                clientY: e.clientY
            });
            container.dispatchEvent(event);
        });

        // 4. Lógica do Botão "Ver Original" e Modal
        btnOriginal.addEventListener('click', () => {
            modal.style.display = 'flex';
        });

        closeModal.addEventListener('click', () => {
            modal.style.display = 'none';
        });

        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.style.display = 'none';
            }
        });
    </script>
</body>

</html>
